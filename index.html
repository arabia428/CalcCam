<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora Camionero</title>
  <style>
    * {
      box-sizing: border-box;
    }html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background-image: url('Exmouth.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  font-family: Arial, sans-serif;
  color: #fff;
}

label, input, select, button {
  display: block;
  width: 100%;
  margin-bottom: 15px;
}

input, select {
  padding: 16px;
  border-radius: 12px;
  border: 2px solid #ccc;
  font-size: 16px;
  background: #fff;
  color: #000;
  outline: none;
  animation: fadeInInput 0.4s ease;
  transition: box-shadow 0.3s ease;
}

input:focus, select:focus {
  border-color: #007bff;
  box-shadow: 0 0 10px rgba(0, 123, 255, 0.6);
}

@keyframes fadeInInput {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

button {
  padding: 15px;
  border-radius: 12px;
  border: none;
  font-size: 16px;
  background-color: #007bff;
  color: white;
  cursor: pointer;
  transition: background 0.3s ease;
}

button:hover {
  background-color: #0056b3;
}

.pantalla {
  display: none;
  background-color: rgba(0, 0, 0, 0.75);
  padding: 20px;
  border-radius: 12px;
  margin-top: 20px;
}

.visible {
  display: block;
}

.resultado {
  background: #ffffffa1;
  color: #000;
  padding: 10px;
  margin-top: 10px;
  border-radius: 12px;
}

  </style>
</head>
<body>
  <div id="pantalla1" class="pantalla visible">
    <h2>Calculadora Camionero</h2>
    <label for="precioLitro">Precio combustible por litro (‚Ç¨):</label>
    <input type="number" id="precioLitro" placeholder="Ej: 1.65" step="0.01" /><label for="consumo100km">Consumo litros cada 100 km:</label>
<input type="number" id="consumo100km" placeholder="Ej: 7.5" step="0.1" />

<label for="modoPago">Modo de pago:</label>
<select id="modoPago">
  <option value="km">Pago por kil√≥metro</option>
  <option value="viaje">Pago por viaje</option>
</select>

<label for="pagoKm">Pago recibido (‚Ç¨):</label>
<input type="number" id="pagoKm" placeholder="Ej: 0.90 o 700" step="0.01" />

<label for="distanciaKm">Distancia (km):</label>
<input type="number" id="distanciaKm" placeholder="Ej: 500" step="1" />

<button onclick="calcularTodo()">Calcular</button>
<div class="resultado" id="resultado"></div>
<button onclick="cambiarPantalla(2)">‚ûï A√±adir gastos fijos</button>
<button onclick="cambiarPantalla(3)">üìã Ver historial de c√°lculos</button>

  </div>  <div id="pantalla2" class="pantalla">
    <h2>Gastos Fijos</h2><label for="seguroCamion">Seguro del cami√≥n (‚Ç¨ mensual):</label>
<input type="number" id="seguroCamion" step="0.01" oninput="guardarGastoFijo('seguroCamion')" />

<label for="seguroMercancia">Seguro de mercanc√≠as (‚Ç¨ mensual):</label>
<input type="number" id="seguroMercancia" step="0.01" oninput="guardarGastoFijo('seguroMercancia')" />

<label for="itv">ITV (‚Ç¨ por revisi√≥n):</label>
<input type="number" id="itv" step="0.01" oninput="guardarGastoFijo('itv')" />

<label for="frecuenciaItv">Frecuencia ITV:</label>
<select id="frecuenciaItv" onchange="guardarGastoFijo('frecuenciaItv')">
  <option value="0">-- Seleccionar --</option>
  <option value="6">Cada 6 meses</option>
  <option value="12">Cada a√±o</option>
  <option value="24">Cada 2 a√±os</option>
</select>

<label for="peajes">Peajes (‚Ç¨ mensuales):</label>
<input type="number" id="peajes" step="0.01" oninput="guardarGastoFijo('peajes')" />

<label for="cuotaEmpresarial">Cuota empresarial (‚Ç¨):</label>
<input type="number" id="cuotaEmpresarial" step="0.01" oninput="guardarGastoFijo('cuotaEmpresarial')" />

<label for="frecuenciaCuota">Frecuencia cuota empresarial:</label>
<select id="frecuenciaCuota" onchange="guardarGastoFijo('frecuenciaCuota')">
  <option value="0">-- Seleccionar --</option>
  <option value="1">Cada d√≠a</option>
  <option value="7">Cada semana</option>
  <option value="14">Cada 2 semanas</option>
  <option value="21">Cada 3 semanas</option>
  <option value="30">Cada mes</option>
  <option value="90">Cada 3 meses</option>
  <option value="180">Cada 6 meses</option>
  <option value="365">Cada a√±o</option>
</select>

<button onclick="calcularGastosFijos()">Calcular Gastos Fijos</button>
<div class="resultado" id="resultadoFijos"></div>
<button onclick="calcularTodoConFijos()">üí° Calcular ingresos - gastos</button>
<div class="resultado" id="resultadoTotal"></div>
<button onclick="cambiarPantalla(1)">‚¨ÖÔ∏è Volver a principal</button>
<button onclick="cambiarPantalla(3)">üìã Ver historial</button>

  </div>  <div id="pantalla3" class="pantalla">
    <h2>üìã Historial de C√°lculos</h2>
    <div class="resultado" id="historialLista"></div>
    <button onclick="limpiarHistorial()">üóëÔ∏è Limpiar historial</button>
    <button onclick="exportarHistorial()">üì§ Exportar historial</button>
    <button onclick="cambiarPantalla(1)">‚¨ÖÔ∏è Volver a principal</button>
  </div>  <script>
    window.addEventListener('load', () => {
      const ids = ["seguroCamion", "seguroMercancia", "itv", "frecuenciaItv", "peajes", "cuotaEmpresarial", "frecuenciaCuota"];
      ids.forEach(id => {
        const valor = localStorage.getItem(id);
        if (valor !== null) document.getElementById(id).value = valor;
      });
    });

    function guardarGastoFijo(id) {
      const valor = document.getElementById(id).value;
      localStorage.setItem(id, valor);
    }

    function calcularTodo() {
      const precioLitro = parseFloat(document.getElementById("precioLitro").value) || 0;
      const consumo = parseFloat(document.getElementById("consumo100km").value) || 0;
      const modo = document.getElementById("modoPago").value;
      const pago = parseFloat(document.getElementById("pagoKm").value) || 0;
      const distancia = parseFloat(document.getElementById("distanciaKm").value) || 0;

      const litrosTotales = (consumo / 100) * distancia;
      const gastoCombustible = litrosTotales * precioLitro;
      const ingreso = modo === "viaje" ? pago : pago * distancia;
      const ganancia = ingreso - gastoCombustible;

      document.getElementById("resultado").innerHTML = `
        Gasto en combustible: ‚Ç¨${gastoCombustible.toFixed(2)}<br>
        Ingreso total: ‚Ç¨${ingreso.toFixed(2)}<br>
        Ganancia estimada: ‚Ç¨${ganancia.toFixed(2)}
      `;
    }
  </script></body>
</html>
